{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nexport function getImagesByQuery(query) {\n    return axios.get(\"https://pixabay.com/api/\", {\n        params: {\n            key: \"52839812-b4c86bdfff86c9a3d984b9ce5\",\n            q: query,\n            image_type: \"photo\",\n            orientation: \"horizontal\",\n            safesearch: true\n        }\n    })\n        .then(res => {\n            console.log(query)\n            console.log(res.data.hits)\n            return res.data.hits\n        })\n        .catch(err => {\n            console.log(err.message)\n        })\n}\n","\nconst loader = document.querySelector('#loader')\n\nfunction createGallery(images) {\n    gallery.insertAdjacentHTML('afterbegin', images);\n}\n\nfunction clearGallery() {\n    gallery.innerHTML = '';\n}\n\nfunction showLoader() {\n    loader.classList.remove('hidden')\n}\n\nfunction hideLoader() {\n    loader.classList.add('hidden')\n}\n\nexport { createGallery, clearGallery, showLoader, hideLoader };\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { getImagesByQuery } from './js/pixabay-api.js';\n\nimport {\n    createGallery,\n    clearGallery,\n    showLoader,\n    hideLoader,\n} from './js/render-functions.js';\n\nconst searchInput = document.querySelector(\"#searchInput\")\nconst searchBtn = document.querySelector(\"#searchBtn\")\n\n\nlet sl = new SimpleLightbox('.gallery a', {\n    sourceAttr: 'href',\n    overlay: true,\n    overlayOpacity: 0.9,\n    spinner: true,\n    nav: true,\n    navText: ['<', '>'],\n    captions: true,\n    captionsData: 'alt',\n    captionSelector: 'img',\n    captionDelay: 150,\n    showCounter: true,\n    scrollZoom: true,\n    close: true,\n});\n\nsearchBtn.addEventListener('click', (e) => {\n    e.preventDefault()\n\n    if (!searchInput.value.trim()) {\n        return iziToast.error({\n            position: 'topRight',\n            message: 'Sorry, you have to write something in order to find something! :) Please try again!',\n        });\n    }\n\n    clearGallery()\n\n    showLoader()\n\n    getImagesByQuery(searchInput.value)\n        .then(hits => {\n            if (!hits || hits.length === 0) {\n                return iziToast.error({\n                    position: 'topRight',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                });\n            };\n            createGallery(cardsMarkup(hits))\n            sl.refresh();\n        })\n        .catch(err => {\n            console.log(err.message);\n        })\n        .finally(hideLoader);\n})\n\n// create pic template\n\nfunction cardsMarkup(arr) {\n    return arr.map(({ largeImageURL, webformatURL, tags, likes, views, comments, downloads }) => `\n    <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img\n                width=\"360\"\n                height=\"200\"\n                class=\"gallery-image\"\n                src=\"${webformatURL}\"\n                alt=\"${tags}\"\n            />\n        </a>\n        <ul>\n            <li>Likes: ${likes}</li>\n            <li>Views: ${views}</li>\n            <li>Comments: ${comments}</li>\n            <li>Downloads: ${downloads}</li>\n        </ul>\n    </li>`).join('\\n')\n}\n"],"names":["getImagesByQuery","query","axios","res","err","loader","createGallery","images","clearGallery","showLoader","hideLoader","searchInput","searchBtn","sl","SimpleLightbox","e","iziToast","hits","cardsMarkup","arr","largeImageURL","webformatURL","tags","likes","views","comments","downloads"],"mappings":"owBAEO,SAASA,EAAiBC,EAAO,CACpC,OAAOC,EAAM,IAAI,2BAA4B,CACzC,OAAQ,CACJ,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACf,CACT,CAAK,EACI,KAAKE,IACF,QAAQ,IAAIF,CAAK,EACjB,QAAQ,IAAIE,EAAI,KAAK,IAAI,EAClBA,EAAI,KAAK,KACnB,EACA,MAAMC,GAAO,CACV,QAAQ,IAAIA,EAAI,OAAO,CACnC,CAAS,CACT,CCnBA,MAAMC,EAAS,SAAS,cAAc,SAAS,EAE/C,SAASC,EAAcC,EAAQ,CAC3B,QAAQ,mBAAmB,aAAcA,CAAM,CACnD,CAEA,SAASC,GAAe,CACpB,QAAQ,UAAY,EACxB,CAEA,SAASC,GAAa,CAClBJ,EAAO,UAAU,OAAO,QAAQ,CACpC,CAEA,SAASK,GAAa,CAClBL,EAAO,UAAU,IAAI,QAAQ,CACjC,CCHA,MAAMM,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAY,SAAS,cAAc,YAAY,EAGrD,IAAIC,EAAK,IAAIC,EAAe,aAAc,CACtC,WAAY,OACZ,QAAS,GACT,eAAgB,GAChB,QAAS,GACT,IAAK,GACL,QAAS,CAAC,IAAK,GAAG,EAClB,SAAU,GACV,aAAc,MACd,gBAAiB,MACjB,aAAc,IACd,YAAa,GACb,WAAY,GACZ,MAAO,EACX,CAAC,EAEDF,EAAU,iBAAiB,QAAUG,GAAM,CAGvC,GAFAA,EAAE,eAAgB,EAEd,CAACJ,EAAY,MAAM,OACnB,OAAOK,EAAS,MAAM,CAClB,SAAU,WACV,QAAS,qFACrB,CAAS,EAGLR,EAAc,EAEdC,EAAY,EAEZT,EAAiBW,EAAY,KAAK,EAC7B,KAAKM,GAAQ,CACV,GAAI,CAACA,GAAQA,EAAK,SAAW,EACzB,OAAOD,EAAS,MAAM,CAClB,SAAU,WACV,QAAS,0EAC7B,CAAiB,EAELV,EAAcY,EAAYD,CAAI,CAAC,EAC/BJ,EAAG,QAAO,CACtB,CAAS,EACA,MAAMT,GAAO,CACV,QAAQ,IAAIA,EAAI,OAAO,CACnC,CAAS,EACA,QAAQM,CAAU,CAC3B,CAAC,EAID,SAASQ,EAAYC,EAAK,CACtB,OAAOA,EAAI,IAAI,CAAC,CAAE,cAAAC,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAK;AAAA;AAAA,wCAEzDN,CAAa;AAAA;AAAA;AAAA;AAAA;AAAA,uBAK9BC,CAAY;AAAA,uBACZC,CAAI;AAAA;AAAA;AAAA;AAAA,yBAIFC,CAAK;AAAA,yBACLC,CAAK;AAAA,4BACFC,CAAQ;AAAA,6BACPC,CAAS;AAAA;AAAA,UAE5B,EAAE,KAAK;AAAA,CAAI,CACrB"}